<!DOCTYPE html>
<html>
<head>
  <title>Ecommerce</title>
  <style>
    .container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .produto {
      max-width: 200px;
      background-color: #f7f7f7;
      border-radius: 5px;
      padding: 10px;
    }

    .produto-imagem {
      width: 100%;
      height: 150px;
      background-size: cover;
      background-position: center;
      margin-bottom: 10px;
    }

    .produto-nome {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .produto-preco {
      margin-bottom: 5px;
    }

    .produto-quantidade {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }

    .quantidade-input {
      width: 40px;
      padding: 5px;
      border: 1px solid #ddd;
      border-radius: 5px;
      text-align: center;
      margin-right: 10px;
    }

    .adicionar-favorito {
      color: red;
      cursor: pointer;
      font-size: 24px;
      margin-left: 5px;
    }

    .carrinho-icon {
      font-size: 24px;
      color: #333;
      cursor: pointer;
    }

    .carrinho-quantidade {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: red;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
    }

    .finalizar-compra {
      display: block;
      padding: 10px;
      background-color: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .carrinho {
      margin-top: 20px;
      background-color: #f7f7f7;
      border-radius: 5px;
      padding: 10px;
    }

    .item-carrinho {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 5px;
    }

    .item-carrinho span {
      display: flex;
      align-items: center;
    }

    .item-carrinho .excluir-item {
      color: red;
      cursor: pointer;
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div class="menu">
    <i class="carrinho-icon fas fa-shopping-cart"></i>
    <span class="carrinho-quantidade"></span>
  </div>

  <div class="container">
    <div class="produto">
      <div class="produto-imagem" style="background-image: url(caminho/para/produto1.jpg)"></div>
      <div class="produto-nome">Produto 1</div>
      <div class="produto-preco">R$10,00</div>
      <div class="produto-quantidade">
        <input type="number" class="quantidade-input" min="1" value="1">
        unidade(s)
      </div>
      <i class="adicionar-carrinho fas fa-shopping-cart" data-nome="Produto 1" data-preco="10.00"></i>
    </div>
    <div class="produto">
      <div class="produto-imagem" style="background-image: url(caminho/para/produto2.jpg)"></div>
      <div class="produto-nome">Produto 2</div>
      <div class="produto-preco">R$20,00</div>
      <div class="produto-quantidade">
        <input type="number" class="quantidade-input" min="1" value="1">
        unidade(s)
      </div>
      <i class="adicionar-carrinho fas fa-shopping-cart" data-nome="Produto 2" data-preco="20.00"></i>
    </div>
  </div>

  <div class="carrinho">
    <h2>Carrinho</h2>
    <div id="itens-carrinho"></div>
    <div id="total-carrinho"></div>
    <button class="finalizar-compra">Finalizar Compra</button>
  </div>

 
  <script src="https://kit.fontawesome.com/your-font-awesome-kit.js" crossorigin="anonymous"></script>
  <script>
    const produtos = document.querySelectorAll('.produto');
    const btnFinalizarCompra = document.querySelector('.finalizar-compra');
    const itensCarrinho = document.getElementById('itens-carrinho');
    const totalCarrinho = document.getElementById('total-carrinho');
    const carrinhoIcon = document.querySelector('.carrinho-icon');
    const carrinhoQuantidade = document.querySelector('.carrinho-quantidade');
    let carrinho = [];

    produtos.forEach(function(produto) {
      const btnAdicionar = produto.querySelector('.adicionar-carrinho');
      const quantidadeInput = produto.querySelector('.quantidade-input');
      const nome = btnAdicionar.getAttribute('data-nome');
      const preco = parseFloat(btnAdicionar.getAttribute('data-preco'));

      btnAdicionar.addEventListener('click', function() {
        const quantidade = parseInt(quantidadeInput.value);

        if (quantidade > 0) {
          const item = {
            id: Date.now(), // Identificador Ãºnico para cada item
            nome: nome,
            preco: preco,
            quantidade: quantidade
          };

          carrinho.push(item);
          exibirCarrinho();
        }
      });
    });

    function exibirCarrinho() {
      itensCarrinho.innerHTML = '';
      let total = 0;
      let quantidadeTotal = 0;

      carrinho.forEach(function(item) {
        const valorTotal = item.preco * item.quantidade;
        total += valorTotal;
        quantidadeTotal += item.quantidade;

        const itemCarrinho = document.createElement('div');
        itemCarrinho.classList.add('item-carrinho');
        itemCarrinho.innerHTML = `
          <span>${item.nome}</span>
          <span>${item.quantidade}x R$${item.preco.toFixed(2)} = R$${valorTotal.toFixed(2)}</span>
          <span class="excluir-item" data-id="${item.id}">Excluir</span>
        `;
        itensCarrinho.appendChild(itemCarrinho);
      });

      totalCarrinho.textContent = `Total: R$${total.toFixed(2)}`;
      carrinhoQuantidade.textContent = quantidadeTotal;
    }

    itensCarrinho.addEventListener('click', function(event) {
  if (event.target.classList.contains('excluir-item')) {
    const itemId = event.target.getAttribute('data-id');
    carrinho = carrinho.filter(function(item) {
      return item.id !== parseInt(itemId);
    });
    exibirCarrinho();
  }
});
